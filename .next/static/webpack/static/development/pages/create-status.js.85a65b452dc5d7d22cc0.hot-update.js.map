{"version":3,"file":"static/webpack/static\\development\\pages\\create-status.js.85a65b452dc5d7d22cc0.hot-update.js","sources":["webpack:///./pages/create-status.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport router from 'next/router'\r\nimport auth0 from '../lib/auth0'\r\nimport axios from 'axios'\r\n\r\nconst CreateStatus = (props) => {\r\n    \r\n    useEffect(() => {\r\n        if(!props.isAuth){            \r\n            router.push('/')\r\n        }else if(props.forceCreate){\r\n            router.push('/create-status')\r\n        }\r\n    })\r\n\r\n    if (!props.isAuth || props.forceCreate) return null;\r\n    const [dados, setDados] = useState({\r\n        status: 'bem',\r\n        coords: {\r\n            lat: null,\r\n            long: null\r\n        }\r\n    })\r\n    const getMyLocation = () => {\r\n        if(navigator.geolocation){\r\n            navigator.geolocation.getCurrentPosition(position => {\r\n                //console.log(position.coords)\r\n                setDados(old => {\r\n                    return {\r\n                        ...old,\r\n                        coords: {\r\n                            lat: position.coords.latitude,\r\n                            long: position.coords.longitude\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    const onStatusCnahge = evt => {\r\n        const value = evt.target.value\r\n        setDados(old => {\r\n            return {\r\n                ...old,\r\n                status: value\r\n            }\r\n        })\r\n    }\r\n    const save = async() => {\r\n        await axios.post('/api/save-status', dados)\r\n    }\r\n    return (\r\n        <div className='row ml-5'>\r\n            <br/>\r\n            <h1 className='py-4 font-bold text-3xl'>Selecione a opção que melhor define sua situação hoje:</h1>\r\n            1º- Escolha uma das 3 opções abaixo:<br/><br/>\r\n            <label className='block' onClick={onStatusCnahge}>\r\n                <input type='radio' name='status' value='bem'></input> Estou bem e sem sintomas\r\n            </label><br/>\r\n            <label className='block' onClick={onStatusCnahge}>\r\n                <input type='radio' name='status' value='gripe'></input> Estou com sintomas de gripe\r\n            </label><br/>\r\n            <label className='block' onClick={onStatusCnahge}>\r\n                <input type='radio' name='status' value='covid'></input> Estou com sintomas da covid\r\n            </label><br/><br/>          \r\n            {/*JSON.stringify(dados)*/}\r\n            2º- Clique no botão \"Informar minha localicação\".<br/><br/>\r\n            <button onClick={getMyLocation} className='py-4 px-2 bg-pink-800 font-bold shadow-xl hover:shadow rounded block w-1/4 text-center mx-auto text-white'>\r\n                Informar minha localização&nbsp;\r\n            </button><br/><br/><br/>\r\n            3º- Clique no botão \"Salvar\".<br/><br/>\r\n            <button onClick={save} className='py-4 px-2 bg-pink-800 font-bold shadow-xl hover:shadow rounded block w-1/6 text-center mx-auto text-white'>\r\n                Salvar&nbsp;\r\n            </button><br/> <br/><br/>\r\n            <p>4º- Para ver o resultado, clique no botão \"Ver Resultado\".</p><br/>\r\n            <a href='/app' className='py-4 px-2 bg-pink-800 font-bold shadow-xl hover:shadow rounded block w-1/4 text-center mx-auto text-white'>\r\n                Ver Resultado&nbsp;\r\n            </a>   \r\n            <br/><br/>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default CreateStatus\r\n\r\nexport async function getServerSideProps ({ req, res }) {\r\n    const session = await auth0.getSession(req)    \r\n    if(session){\r\n        return {\r\n            props: {\r\n                isAuth: true,\r\n                user: session.user,                \r\n            }\r\n        }\r\n    }        \r\n    return {\r\n        props: {\r\n            isAuth: false,\r\n            user: {}\r\n        }\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAXA;AAYA;AACA;AACA;AACA;AAFA;AAFA;AAXA;AAAA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;;AACA;;;;A","sourceRoot":""}